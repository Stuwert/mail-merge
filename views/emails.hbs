  <html>
    <head>
      <link rel="stylesheet" href="/css/reset.css" media="screen" title="no title" charset="utf-8">
      <link rel="stylesheet" href="/css/style.css" media="screen" title="no title" charset="utf-8">
    </head>
    <body>
    <h1>Mail Merge</h1>
    <form action="/mail" method="post" >
      <section class="left">
        <p>Enter names / emails (one per line)</p>
        <textarea name="people" rows="8" cols="40" placeholder="Joe, Jones, joe@example.com">
          {{#each emails}}
{{first}}, {{last}}, {{email}}
          {{/each}}
        </textarea>
      </section>
      <section class="right">
        <div class='enter'>
          <p>
            Enter the text.  The following substitutions are valid:
          </p>
          <ul>
            <li>{first}</li>
            <li>{last}</li>
            <li>{email}</li>
          </ul>
        </div>
        <input type="text" name="subject" value="{{emails.0.subject}}" placeholder="Subject">
        <textarea name="contnt" rows="8" cols="40">
{{emails.0.content}}
        </textarea>
        <button type="submit" name="preview" value="Preview">Preview</button>
      </section>
    </form>
    <section class='all-emails'>
      <h2 id="num" data-total='{{emails.length}}'>Emails: ({{emails.length}})</h2>
      {{#each emails}}
        <div class='emails'>
          <p class="close">X</p>
          <p>
            <em>To:</em> {{first}} {{last}} <{{email}}>
          </p>
          <p>
            <em>Subject:</em> {{subject}}
          </p>
          <p class="content">
            {{content}}
          </p>
        </div>
      {{/each}}
    </section>
    <script src="/javascripts/code.js" charset="utf-8"></script>
    </body>
  </html>

  </body>
</html>
